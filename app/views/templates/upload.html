<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PielSana IA - Cargar Imagen</title>
    <!-- <link rel="stylesheet" href="{{ url_for('static', path='/css/upload.css') }}"> -->
    <style>
        body {
            font-family: sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f0f7f0; /* Tono verde claro */
        }
        .container {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            text-align: center;
        }
        h1 {
            color: #333;
            margin-bottom: 20px;
        }
        input[type="file"] {
            margin-bottom: 20px;
        }
        button {
            background-color: #4CAF50; /* Verde */
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #45a049;
        }
        .message {
            margin-top: 20px;
            padding: 10px;
            border-radius: 4px;
        }
        .success {
            background-color: #d4edda;
            color: #155724;
        }
        .error {
            background-color: #f8d7da;
            color: #721c24;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Cargar Imagen para Análisis</h1>
        <form id="uploadForm" action="/upload" method="post" enctype="multipart/form-data">
            <input type="file" name="file" id="fileInput" accept="image/png, image/jpeg, image/jpg" required>
            <button type="submit">Analizar Imagen</button>
        </form>
        <div id="messageArea" class="message" style="display:none;"></div>
    </div>

    <!-- <script src="{{ url_for('static', path='/js/upload.js') }}"></script> -->
    <script>
        // Script simple para mostrar un mensaje (se puede expandir luego)
        const form = document.getElementById('uploadForm');
        const messageArea = document.getElementById('messageArea');

        form.addEventListener('submit', async function(event) {
            event.preventDefault(); // Prevenir envío tradicional
            
            const formData = new FormData(form);
            const fileInput = document.getElementById('fileInput');

            if (!fileInput.files || fileInput.files.length === 0) {
                showMessage('Por favor, selecciona un archivo.', 'error');
                return;
            }

            // Aquí iría la lógica para enviar al backend y manejar la respuesta
            // Por ahora, solo mostraremos un mensaje de simulación
            showMessage('Imagen enviada (simulación). Redirigiendo a resultados...', 'success');
            
            // Simular espera y redirección
            setTimeout(() => {
                // window.location.href = "/results"; // Redirigir a la página de resultados
                showMessage('Redirección a resultados (simulación completa).', 'success');
            }, 2000);
        });

        function showMessage(message, type) {
            messageArea.textContent = message;
            messageArea.className = 'message ' + type; // 'message success' o 'message error'
            messageArea.style.display = 'block';
        }
    </script>
</body>
</html> 